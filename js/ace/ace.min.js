define(function (require) {
    var jQuery = require("jquery");
    require("./ace-elements.min");
    if (!("ace" in window)) {
        window.ace = {}
    }
    ace.general_things = function (a) {
        a(".nav-list .badge[title],.nav-list .label[title]").tooltip({placement: "right"});
        a("#ace-settings-btn").on(ace.click_event, function () {
            a(this).toggleClass("open");
            a("#ace-settings-box").toggleClass("open")
        });
        a("#ace-settings-navbar").on("click",function () {
            ace.settings.navbar_fixed(this.checked)
        }).get(0).checked = ace.settings.is("navbar", "fixed");
        a("#ace-settings-sidebar").on("click",function () {
            ace.settings.sidebar_fixed(this.checked)
        }).get(0).checked = ace.settings.is("sidebar", "fixed");
        a("#ace-settings-breadcrumbs").on("click",function () {
            ace.settings.breadcrumbs_fixed(this.checked)
        }).get(0).checked = ace.settings.is("breadcrumbs", "fixed");
        a("#ace-settings-rtl").removeAttr("checked").on("click", function () {
            ace.switch_direction(jQuery)
        });
        a("#btn-scroll-up").on(ace.click_event, function () {
            var c = Math.max(100, parseInt(a("html").scrollTop() / 3));
            a("html,body").animate({scrollTop: 0}, c);
            return false
        });
        try {
            a("#skin-colorpicker").ace_colorpicker()
        } catch (b) {
        }
        a("#skin-colorpicker").on("change", function () {
            var d = a(this).find("option:selected").data("skin");
            var c = a(document.body);
            c.removeClass("skin-1 skin-2 skin-3");
            if (d != "default") {
                c.addClass(d)
            }
            if (d == "skin-1") {
                a(".ace-nav > li.grey").addClass("dark")
            } else {
                a(".ace-nav > li.grey").removeClass("dark")
            }
            if (d == "skin-2") {
                a(".ace-nav > li").addClass("no-border margin-1");
                a(".ace-nav > li:not(:last-child)").addClass("light-pink").find('> a > [class*="icon-"]').addClass("pink").end().eq(0).find(".badge").addClass("badge-warning")
            } else {
                a(".ace-nav > li").removeClass("no-border margin-1");
                a(".ace-nav > li:not(:last-child)").removeClass("light-pink").find('> a > [class*="icon-"]').removeClass("pink").end().eq(0).find(".badge").removeClass("badge-warning")
            }
            if (d == "skin-3") {
                a(".ace-nav > li.grey").addClass("red").find(".badge").addClass("badge-yellow")
            } else {
                a(".ace-nav > li.grey").removeClass("red").find(".badge").removeClass("badge-yellow")
            }
        })
    };
    ace.switch_direction = function (d) {
        var c = d(document.body);
        c.toggleClass("rtl").find(".dropdown-menu:not(.datepicker-dropdown,.colorpicker)").toggleClass("pull-right").end().find('.pull-right:not(.dropdown-menu,blockquote,.dropdown-submenu,.profile-skills .pull-right,.control-group .controls > [class*="span"]:first-child)').removeClass("pull-right").addClass("tmp-rtl-pull-right").end().find(".pull-left:not(.dropdown-submenu,.profile-skills .pull-left)").removeClass("pull-left").addClass("pull-right").end().find(".tmp-rtl-pull-right").removeClass("tmp-rtl-pull-right").addClass("pull-left").end().find(".chosen-container").toggleClass("chosen-rtl").end().find('.control-group .controls > [class*="span"]:first-child').toggleClass("pull-right").end();
        function a(h, g) {
            c.find("." + h).removeClass(h).addClass("tmp-rtl-" + h).end().find("." + g).removeClass(g).addClass(h).end().find(".tmp-rtl-" + h).removeClass("tmp-rtl-" + h).addClass(g)
        }

        function b(h, g, i) {
            i.each(function () {
                var k = d(this);
                var j = k.css(g);
                k.css(g, k.css(h));
                k.css(h, j)
            })
        }

        a("align-left", "align-right");
        a("arrowed", "arrowed-right");
        a("arrowed-in", "arrowed-in-right");
        a("messagebar-item-left", "messagebar-item-right");
        var e = d("#piechart-placeholder");
        if (e.size() > 0) {
            var f = d(document.body).hasClass("rtl") ? "nw" : "ne";
            e.data("draw").call(e.get(0), e, e.data("chart"), f)
        }
    };
    jQuery(function (a) {
        window.ace.click_event = a.fn.tap ? "tap" : "click"
    });
    jQuery(function (a) {
        ace.general_things(jQuery);
    });
});